{"version":3,"sources":["components/AuthPage/index.js","components/HomePage/ChatHistoryItem.js","components/HomePage/chatHistory.js","assets/nochat.png","components/HomePage/Message.js","components/HomePage/UserInfo.js","components/HomePage/ChatPage.js","components/HomePage/index.js","components/OnBoarding/index.js","App.js","index.js"],"names":["AuthPage","sessionStorage","window","location","hash","useState","value","setValue","page","setPage","className","Card","width","mx","my","maxWidth","bg","color","border","p","style","boxShadow","Fragment","Heading","Text","Box","display","justifyContent","Field","label","Input","type","required","accept","placeholder","onChange","event","file","nativeEvent","srcElement","files","reader","FileReader","onload","e","setItem","target","result","readAsText","fontStyle","Link","title","onClick","Button","icon","iconpos","randomColor","Math","floor","random","toString","ChatHistoryItem","address","lastText","name","handler","ref","useRef","borderBottom","padding","blockie","current","canvas","toDataURL","Blockie","borderRadius","opts","seed","bgcolor","spotcolor","fontWeight","ChatHistory","set","notifier","toggle","setToggle","friend","setFriend","ListChats","setListChats","useEffect","peer","identity","subscribe","localStorage","JSON","parse","from","forEach","el","data","to","user","keyHash","find","o","props","getItem","message","username","alignItems","h6","margin","userInfo","icononly","size","mr","document","querySelector","children","reload","fontSize","EthAddress","Form","ml","preventDefault","privateMSG","undefined","toastProvider","addMessage","secondaryMessage","colorTheme","variant","height","overflowY","map","ToastMessage","Provider","node","Message","time","sent","marginBottom","classList","contains","UserInfo","addr","setName","names","length","Avatar","src","ChatPage","curr","conn","setConn","renderMsg","setRenderMsg","numConnections","console","log","flexDirection","gap","NoMsg","h4","marginTop","class","transform","Outline","borderBottomRightRadius","borderTopRightRadius","backgroundColor","marginRight","marginLeft","item","pk","publicKey","sk","secretKey","broadCast","encrypt","Date","getHours","getMinutes","borderTopLeftRadius","borderBottomLeftRadius","HomePage","currChat","setCurrChat","updateEvent","newUpdateEvent","OnBoarding","kind","User","Peer","whoami","a","createElement","href","URL","createObjectURL","Blob","stringify","download","click","revokeObjectURL","PrivateRoute","Component","component","rest","render","clear","pathname","state","App","path","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d176f8a3.chunk.js","sourcesContent":["import React, { useState } from \"react\";\r\nimport {\r\n    Box,\r\n    Button,\r\n    Card,\r\n    Field,\r\n    Heading,\r\n    Input,\r\n    Link,\r\n    Text,\r\n} from \"rimble-ui\";\r\nfunction AuthPage() {\r\n    if (sessionStorage[\"whoami\"]) window.location.hash = \"#/\";\r\n    function keyUpload(event) {\r\n        const file = event.nativeEvent.srcElement.files[0];\r\n        const reader = new FileReader();\r\n        reader.onload = function (e) {\r\n            sessionStorage.setItem(\"file\", e.target.result);\r\n            sessionStorage.setItem(\"kind\", 0);\r\n            window.location.hash = \"#/setup\";\r\n        };\r\n        reader.readAsText(file);\r\n    }\r\n    const [value, setValue] = useState(\"\");\r\n    const [page, setPage] = useState(1);\r\n    return (\r\n        <div className=\"main__class\">\r\n            <Card\r\n                width={\"auto\"}\r\n                mx={\"auto\"}\r\n                my={\"auto\"}\r\n                maxWidth={\"420px\"}\r\n                bg={\"#2c2c2c\"}\r\n                color={\"white\"}\r\n                border={0}\r\n                p={4}\r\n                style={{ boxShadow: \"9px 9px 8px rgb(0 0 0)\" }}\r\n            >\r\n                {page === 0 && (\r\n                    <React.Fragment>\r\n                        <Heading>Log In to Meschain</Heading>\r\n                        <Text.p>\r\n                            If you have your keys with you go ahead and upload\r\n                            them\r\n                        </Text.p>\r\n                        <Box\r\n                            mx={\"auto\"}\r\n                            style={{\r\n                                display: \"flex\",\r\n                                justifyContent: \"center\",\r\n                            }}\r\n                        >\r\n                            <Field label=\"Your key file\">\r\n                                <Input\r\n                                    type=\"file\"\r\n                                    required={true}\r\n                                    accept=\".meschain\"\r\n                                    placeholder=\"Keys\"\r\n                                    onChange={keyUpload}\r\n                                />\r\n                            </Field>\r\n                        </Box>\r\n                        <Text.p style={{ fontStyle: \"italic\" }}>\r\n                            Don't have keys? Get new one{\" \"}\r\n                            <Link\r\n                                title=\"Click here to signup\"\r\n                                onClick={() => setPage(1)}\r\n                            >\r\n                                here.\r\n                            </Link>\r\n                        </Text.p>\r\n                    </React.Fragment>\r\n                )}\r\n                {page === 1 && (\r\n                    <React.Fragment>\r\n                        <Heading>SignUp for Meschain</Heading>\r\n                        <Text.p>\r\n                            No need for email or mobile. Just enter a name as\r\n                            you like.\r\n                        </Text.p>\r\n                        <Box mx={\"auto\"}>\r\n                            <Field label=\"Your Name\" style={{ width: \"100%\" }}>\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    style={{ width: \"100%\" }}\r\n                                    value={value}\r\n                                    onChange={(e) => setValue(e.target.value)}\r\n                                    placeholder=\"eg. Superman\"\r\n                                />\r\n                            </Field>\r\n                            <Button\r\n                                icon=\"ArrowForward\"\r\n                                iconpos=\"right\"\r\n                                onClick={() => {\r\n                                    sessionStorage.setItem(\"user\", value);\r\n                                    sessionStorage.setItem(\"kind\", 1);\r\n                                    window.location.hash = \"#/setup\";\r\n                                }}\r\n                            >\r\n                                Lets go\r\n                            </Button>\r\n                        </Box>\r\n                        <Text.p style={{ fontStyle: \"italic\" }}>\r\n                            Already have keys? Log In{\" \"}\r\n                            <Link\r\n                                title=\"Click here to login\"\r\n                                onClick={() => setPage(0)}\r\n                            >\r\n                                here.\r\n                            </Link>\r\n                        </Text.p>\r\n                    </React.Fragment>\r\n                )}\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default AuthPage;\r\n","import React, { useRef } from \"react\";\r\nimport { Blockie, Box, Text } from \"rimble-ui\";\r\nconst randomColor = () =>\r\n    `#${Math.floor(Math.random() * 16777215).toString(16)}`;\r\nfunction ChatHistoryItem({ address, lastText, name, handler }) {\r\n    const ref = useRef();\r\n    return (\r\n        <Box\r\n            style={{\r\n                display: \"flex\",\r\n                borderBottom: \"1px solid #ded7d7\",\r\n                padding: \"10px\",\r\n            }}\r\n            onClick={() => {\r\n                handler({\r\n                    address: address,\r\n                    blockie: ref.current.canvas.toDataURL(),\r\n                });\r\n            }}\r\n        >\r\n            <Blockie\r\n                style={{ borderRadius: \"50%\" }}\r\n                opts={{\r\n                    seed: address,\r\n                    color: randomColor(),\r\n                    bgcolor: randomColor(),\r\n                    spotcolor: randomColor(),\r\n                }}\r\n                ref={ref}\r\n            />\r\n            <span className=\"d-flex flex-column pl-2\">\r\n                <Text fontWeight={\"bold\"} p={0}>\r\n                    {name}\r\n                </Text>\r\n                <small>{lastText}</small>\r\n            </span>\r\n        </Box>\r\n    );\r\n}\r\n\r\nexport default ChatHistoryItem;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n    Blockie,\r\n    Box,\r\n    Button,\r\n    EthAddress,\r\n    Field,\r\n    Form,\r\n    Heading,\r\n    Input,\r\n    Text,\r\n    ToastMessage,\r\n} from \"rimble-ui\";\r\nimport ChatHistoryItem from \"./ChatHistoryItem\";\r\n\r\nfunction ChatHistory({ set, notifier }) {\r\n    const randomColor = () =>\r\n        `#${Math.floor(Math.random() * 16777215).toString(16)}`;\r\n    const [toggle, setToggle] = useState(false);\r\n    const [friend, setFriend] = useState(\"\");\r\n    const [ListChats, setListChats] = useState([]);\r\n    useEffect(() => {\r\n        window.peer.identity.subscribe((e) => {\r\n            try {\r\n                localStorage.setItem(JSON.parse(e).from, e);\r\n                // window.currentChat = JSON.parse(e).data.message.username;\r\n                set(JSON.parse(e).from);\r\n            } catch {}\r\n        });\r\n        setListChats([]);\r\n        // try {\r\n        notifier?.forEach((el) => {\r\n            if (\r\n                (el.data.to === window.user.keyHash ||\r\n                    el.data.to?.address === window.user.keyHash) &&\r\n                !ListChats.find((o) => o.props.address === el.data.from)\r\n            ) {\r\n                // If message is addresed to me then create a new chat history\r\n                setListChats([\r\n                    ...ListChats,\r\n                    <ChatHistoryItem\r\n                        name={\r\n                            JSON.parse(localStorage.getItem(el.data.from)).data\r\n                                .message.username || el.data.from\r\n                        }\r\n                        address={el.data.from}\r\n                        lastText=\"DEFAULT TEXT\"\r\n                        handler={set}\r\n                        key={el.data.from}\r\n                    />,\r\n                ]);\r\n                // console.log(ListChats);\r\n            }\r\n            // console.log(el?.data.to === window.user.keyHash, el?.data);\r\n        });\r\n        // } catch {\r\n        //     console.log(notifier);\r\n        // }\r\n    }, [notifier]);\r\n\r\n    function newFriend(event) {\r\n        event.preventDefault();\r\n        try {\r\n            if (!localStorage.getItem(friend))\r\n                window.peer.privateMSG(undefined, friend, \"WHO\");\r\n            else {\r\n                set(friend);\r\n            }\r\n        } catch {\r\n            window.toastProvider.addMessage(\r\n                \"Couldn't connect to your friend üòå\",\r\n                {\r\n                    secondaryMessage:\r\n                        \"May be you entered a wrong address or they are offline\",\r\n                    colorTheme: \"light\",\r\n                    variant: \"failure\",\r\n                }\r\n            );\r\n        }\r\n        setFriend(\"\");\r\n    }\r\n    function hideLogs() {\r\n        setToggle(!toggle);\r\n        if (toggle) {\r\n            document.querySelector(\".logs\").style = \"\";\r\n            document.querySelector(\".chats\").style = \"\";\r\n            document.querySelector(\".chats\").children[0].style = \"\";\r\n            document.querySelector(\".chats\").children[1].style = \"\";\r\n        } else {\r\n            document.querySelector(\".logs\").style = \"display: none\";\r\n            document.querySelector(\".chats\").style = \"width: 100%\";\r\n            document.querySelector(\".chats\").children[0].style = \"width: 35%\";\r\n            document.querySelector(\".chats\").children[1].style = \"width: 65%\";\r\n        }\r\n    }\r\n    return (\r\n        <div>\r\n            <Box\r\n                bg={\"#2f3136\"}\r\n                p={2}\r\n                style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    alignItems: \"center\",\r\n                }}\r\n            >\r\n                <Blockie\r\n                    style={{ borderRadius: \"50%\" }}\r\n                    opts={{\r\n                        seed: sessionStorage[\"whoami\"],\r\n                        color: randomColor(),\r\n                        bgcolor: randomColor(),\r\n                        spotcolor: randomColor(),\r\n                    }}\r\n                />\r\n\r\n                <Heading.h6 style={{ margin: 0 }}>\r\n                    Chats of {window.user.userInfo.username || \"Anonymous\"}\r\n                </Heading.h6>\r\n                <span style={{ display: \"flex\", alignItems: \"center\" }}>\r\n                    <Button.Text\r\n                        icon=\"Info\"\r\n                        icononly={true}\r\n                        size=\"small\"\r\n                        title=\"Stats for Nerds\"\r\n                        mr={2}\r\n                        className=\"logsBTN\"\r\n                        onClick={hideLogs}\r\n                        style={{ color: \"#ffffff\" }}\r\n                    />\r\n                    <Button\r\n                        icon=\"PowerSettingsNew\"\r\n                        size=\"small\"\r\n                        iconpos=\"right\"\r\n                        onClick={() => window.location.reload()}\r\n                    >\r\n                        Log Out\r\n                    </Button>\r\n                </span>\r\n            </Box>\r\n            <Box p={2} bg={\"#36393f\"}>\r\n                <Text fontSize=\"1\">Your Meschain Address</Text>\r\n                <EthAddress\r\n                    address={sessionStorage[\"whoami\"]}\r\n                    className=\"hideQR\"\r\n                />\r\n            </Box>\r\n            <Box p={2} bg={\"#2f3136\"}>\r\n                <Form className=\"fullWidth\">\r\n                    <Field label=\"Your Friends Meschain Address\">\r\n                        <Input\r\n                            type=\"text\"\r\n                            placeholder=\"Ask your friend to share their address\"\r\n                            style={{ width: \"100%\" }}\r\n                            required={true}\r\n                            value={friend}\r\n                            onChange={(e) => setFriend(e.target.value)}\r\n                        />\r\n                    </Field>\r\n                    <Button\r\n                        icon=\"Add\"\r\n                        icononly={true}\r\n                        ml={2}\r\n                        onClick={newFriend}\r\n                    ></Button>\r\n                </Form>\r\n            </Box>\r\n            <Box bg={\"#46484b\"} style={{ height: \"100%\", overflowY: \"auto\" }}>\r\n                {ListChats.map((el) => el)}\r\n                <div className=\"d-flex align-items-center justify-content-center my-5 py-5\">\r\n                    <span>\r\n                        Your chats will appear here. Try sending a new message.\r\n                        üìù\r\n                    </span>\r\n                </div>\r\n            </Box>\r\n            <>\r\n                <ToastMessage.Provider\r\n                    ref={(node) => (window.toastProvider = node)}\r\n                />\r\n            </>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChatHistory;\r\n","export default __webpack_public_path__ + \"static/media/nochat.0f4e4e0d.png\";","import React, { useRef } from \"react\";\r\n\r\nfunction Message({ message, time, sent }) {\r\n    const ref = useRef();\r\n    const handleTime = () => {\r\n        if (ref.current.children[0].children[0].classList.contains(\"d-none\"))\r\n            ref.current.style.marginBottom = \"15px\";\r\n        else ref.current.style.marginBottom = \"4px\";\r\n        ref.current.children[0].children[0].classList.toggle(\"d-none\");\r\n    };\r\n    return (\r\n        <div\r\n            className={\r\n                sent\r\n                    ? \"d-flex justify-content-end anim\"\r\n                    : \"d-flex justify-content-start anim\"\r\n            }\r\n            style={{\r\n                marginBottom: \"4px\",\r\n            }}\r\n            ref={ref}\r\n            onClick={handleTime}\r\n        >\r\n            <div className={sent ? \"msg_cotainer\" : \"msg_cotainer_send\"}>\r\n                {message}\r\n                <span\r\n                    className={\r\n                        sent ? \"msg_time d-none\" : \"msg_time_send d-none\"\r\n                    }\r\n                >\r\n                    {time}\r\n                </span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Message;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Avatar, Text, Blockie } from \"rimble-ui\";\r\nfunction UserInfo({ addr }) {\r\n    const randomColor = () =>\r\n        `#${Math.floor(Math.random() * 16777215).toString(16)}`;\r\n    const [name, setName] = useState();\r\n    useEffect(() => {\r\n        const names = [\r\n            \"Panda\",\r\n            \"Kiwi\",\r\n            \"Mango\",\r\n            \"Doge\",\r\n            \"Dragon\",\r\n            \"Ninja\",\r\n            \"Koala\",\r\n            \"Tiger\",\r\n            \"Quokka\",\r\n            \"Bull\",\r\n            \"Chicken\",\r\n        ];\r\n        setName(\"Anonymous \" + names[Math.floor(Math.random() * names.length)]);\r\n    }, [addr.address]);\r\n    return (\r\n        <React.Fragment>\r\n            {addr.blockie && <Avatar src={addr.blockie} size=\"45px\" />}\r\n            {!addr.blockie && (\r\n                <Blockie\r\n                    style={{ borderRadius: \"50%\" }}\r\n                    opts={{\r\n                        seed: addr.address,\r\n                        color: randomColor(),\r\n                        bgcolor: randomColor(),\r\n                        spotcolor: randomColor(),\r\n                    }}\r\n                />\r\n            )}\r\n            <Text p={2}>\r\n                {JSON.parse(localStorage.getItem(addr.address))?.data.message\r\n                    .username || name}\r\n            </Text>\r\n        </React.Fragment>\r\n    );\r\n}\r\n\r\nexport default UserInfo;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { Box, Text, Heading, Input, Button } from \"rimble-ui\";\r\nimport NoMsg from \"../../assets/nochat.png\";\r\nimport Message from \"./Message\";\r\nimport UserInfo from \"./UserInfo\";\r\nfunction ChatPage({ curr, notifier }) {\r\n    const [conn, setConn] = useState(0);\r\n    const ref = useRef();\r\n    const [renderMsg, setRenderMsg] = useState([]);\r\n    function sendMessage() {\r\n        const item = JSON.parse(localStorage.getItem(curr.address || curr));\r\n        const message = ref.current.value;\r\n        const pk = item.data.message.publicKey;\r\n        const sk = window.user.userInfo.secretKey;\r\n        window.peer.broadCast(window.encrypt(pk, sk, message, curr), \"BLOCK\");\r\n        setRenderMsg([\r\n            ...renderMsg,\r\n            <Message\r\n                message={message}\r\n                time={`${new Date().getHours()}:${new Date().getMinutes()}`}\r\n                sent={true}\r\n                key={message}\r\n            />,\r\n        ]);\r\n        ref.current.value = \"\";\r\n    }\r\n    useEffect(() => {\r\n        window.peer.numConnections.subscribe((e) => setConn(e));\r\n        console.log(curr);\r\n    }, [curr, notifier]);\r\n\r\n    return (\r\n        <div className=\"hideChat\">\r\n            <Box style={{ height: \"100%\" }} color=\"#ffffff\">\r\n                {!curr && (\r\n                    <React.Fragment>\r\n                        <div\r\n                            style={{\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                                justifyContent: \"center\",\r\n                                height: \"inherit\",\r\n                            }}\r\n                        >\r\n                            <span\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    alignItems: \"center\",\r\n                                    justifyContent: \"center\",\r\n                                    flexDirection: \"column\",\r\n                                    gap: \"0.5rem\",\r\n                                }}\r\n                            >\r\n                                <img src={NoMsg} width=\"200\" />\r\n                                <Heading.h4 my={1}>\r\n                                    It's always nice to chat with to someone\r\n                                </Heading.h4>\r\n                                <Text my={0}>\r\n                                    Pick a chat from the left menu, or add your\r\n                                    friends to start a new chat.\r\n                                </Text>\r\n                                <Text my={1}>\r\n                                    By the way you're currently directly\r\n                                    connected to <b>{conn}</b> users.\r\n                                </Text>\r\n                                <small\r\n                                    style={{\r\n                                        marginTop: \"2rem\",\r\n                                        width: \"60%\",\r\n                                    }}\r\n                                >\r\n                                    All your messages are always end-to-end\r\n                                    encrypted to never go to any server.\r\n                                    Everything happens on a blockchain powered\r\n                                    by people like you. <wbr /> Meschain is\r\n                                    built on top of blockchain where all the\r\n                                    users compete to add your new message to the\r\n                                    blockchain. Note that once you've sent a\r\n                                    message it is for forever no one (not even\r\n                                    you) can alter or delete it.\r\n                                </small>\r\n                            </span>\r\n                        </div>\r\n                    </React.Fragment>\r\n                )}\r\n                {curr && (\r\n                    <React.Fragment>\r\n                        <Box\r\n                            bg={\"#4a4a4a\"}\r\n                            p={2}\r\n                            style={{\r\n                                display: \"flex\",\r\n                                alignItems: \"center\",\r\n                            }}\r\n                        >\r\n                            <UserInfo addr={curr} />\r\n                        </Box>\r\n                        <div>\r\n                            <div class=\"card-body msg_card_body\">\r\n                                <div\r\n                                    style={{\r\n                                        display: \"flex\",\r\n                                        \"justify-content\": \"center\",\r\n                                        transform: \"scale(0.8)\",\r\n                                    }}\r\n                                >\r\n                                    {/* <Button\r\n                                        size=\"small\"\r\n                                        mr={3}\r\n                                        style={{\r\n                                            \"background-color\": \"a7a7ad\",\r\n                                        }}\r\n                                    >\r\n                                        Today\r\n                                    </Button> */}\r\n                                </div>\r\n                                {renderMsg.map((el) => el)}\r\n                            </div>\r\n                            <div\r\n                                style={{\r\n                                    display: \"flex\",\r\n                                    alignItems: \"center\",\r\n                                }}\r\n                            >\r\n                                <Button.Outline\r\n                                    icon=\"Attachment\"\r\n                                    icononly\r\n                                    style={{\r\n                                        borderBottomRightRadius: 0,\r\n                                        borderTopRightRadius: 0,\r\n                                        backgroundColor: \"#ffffff\",\r\n                                        marginRight: 0,\r\n                                        marginLeft: 25,\r\n                                    }}\r\n                                ></Button.Outline>\r\n                                <Input\r\n                                    type=\"text\"\r\n                                    required={true}\r\n                                    placeholder=\"Type your message...\"\r\n                                    ref={ref}\r\n                                    style={{\r\n                                        width: \"60vw\",\r\n                                        margin: \"5px 0px\",\r\n                                        \"border-radius\": 0,\r\n                                    }}\r\n                                />\r\n                                <Button\r\n                                    icon=\"Send\"\r\n                                    icononly\r\n                                    onClick={sendMessage}\r\n                                    style={{\r\n                                        marginRight: \"30px\",\r\n                                        borderTopLeftRadius: 0,\r\n                                        borderBottomLeftRadius: 0,\r\n                                    }}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n                    </React.Fragment>\r\n                )}\r\n            </Box>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ChatPage;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ChatHistory from \"./chatHistory\";\r\nimport ChatPage from \"./ChatPage\";\r\n\r\nfunction HomePage() {\r\n    const [currChat, setCurrChat] = useState(undefined);\r\n    const [updateEvent, newUpdateEvent] = useState();\r\n    useEffect(() => {\r\n        window.notifier.subscribe((el) => newUpdateEvent(el));\r\n    }, []);\r\n    return (\r\n        <div className=\"home\">\r\n            <div className=\"chats\">\r\n                <ChatHistory set={setCurrChat} notifier={updateEvent} />\r\n                <ChatPage curr={currChat} notifier={updateEvent} />\r\n            </div>\r\n            <div className=\"logs\"></div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default HomePage;\r\n","import React, { useEffect } from \"react\";\r\nimport { Button, Card, Heading, Text, Box } from \"rimble-ui\";\r\nfunction OnBoarding() {\r\n    const kind = sessionStorage[\"kind\"];\r\n    useEffect(() => {\r\n        if (!kind) window.location.hash = \"#/auth\";\r\n        if (kind === \"1\") {\r\n            window.user = new window.User(null, null, sessionStorage[\"user\"]);\r\n            sessionStorage.setItem(\"whoami\", window.user.keyHash);\r\n            window.peer = new window.Peer(\r\n                window.user.keyHash,\r\n                window.user.whoami\r\n            );\r\n        }\r\n        if (kind === \"0\") {\r\n            const file = sessionStorage[\"file\"];\r\n            if (!file) window.location.hash = \"#/auth\";\r\n            window.user = new window.User(\r\n                JSON.parse(file).publicKey,\r\n                JSON.parse(file).secretKey,\r\n                JSON.parse(file).username\r\n            );\r\n            window.peer = new window.Peer(\r\n                window.user.keyHash,\r\n                window.user.whoami\r\n            );\r\n            if (window.user.keyHash !== JSON.parse(file).keyHash)\r\n                window.location.hash = \"#/auth\";\r\n            sessionStorage.setItem(\"whoami\", window.user.keyHash);\r\n            window.location.hash = \"#/\";\r\n        }\r\n    }, []);\r\n\r\n    function downloadKEY() {\r\n        const a = document.createElement(\"a\");\r\n        a.href = window.URL.createObjectURL(\r\n            new Blob([JSON.stringify(window.user.userInfo)], {\r\n                type: \"meschain\",\r\n            })\r\n        );\r\n        a.download = \"key.meschain\";\r\n        a.click();\r\n        window.URL.revokeObjectURL(a.href);\r\n    }\r\n    return (\r\n        <div className=\"main__class\">\r\n            <Card\r\n                width={\"auto\"}\r\n                mx={\"auto\"}\r\n                my={\"auto\"}\r\n                maxWidth={\"420px\"}\r\n                bg={\"#2c2c2c\"}\r\n                color={\"white\"}\r\n                border={0}\r\n                p={4}\r\n                style={{ boxShadow: \"9px 9px 8px rgb(0 0 0)\" }}\r\n            >\r\n                {kind === \"1\" && (\r\n                    <React.Fragment>\r\n                        <Heading>Hang On</Heading>\r\n                        <Text.p>\r\n                            Download your keys and keep them at a safe private\r\n                            place.\r\n                        </Text.p>\r\n                        <Box\r\n                            style={{\r\n                                display: \"flex\",\r\n                                justifyContent: \"center\",\r\n                            }}\r\n                        >\r\n                            <Button.Text\r\n                                icon=\"ArrowForward\"\r\n                                iconpos=\"right\"\r\n                                style={{ color: \"#ffffff\" }}\r\n                                onClick={() => (window.location.hash = \"#/\")}\r\n                            >\r\n                                Continue\r\n                            </Button.Text>\r\n                            <Button mx={4} onClick={downloadKEY}>\r\n                                Download\r\n                            </Button>\r\n                        </Box>\r\n                        <Text.p style={{ fontStyle: \"italic\" }}>\r\n                            If you loose this key their is no way of accessing\r\n                            your messages again.\r\n                        </Text.p>\r\n                    </React.Fragment>\r\n                )}\r\n                {kind === \"0\" && (\r\n                    <React.Fragment>\r\n                        <Heading>Hang On</Heading>\r\n                        <Text.p>\r\n                            Just a moment. We're preparing your chats.\r\n                        </Text.p>\r\n                        <Text.p style={{ fontStyle: \"italic\" }}>\r\n                            You'll be redirected automatically\r\n                        </Text.p>\r\n                    </React.Fragment>\r\n                )}\r\n            </Card>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default OnBoarding;\r\n","import React from \"react\";\r\nimport {\r\n    HashRouter as Router,\r\n    Route,\r\n    Switch,\r\n    Redirect,\r\n} from \"react-router-dom\";\r\nimport AuthPage from \"./components/AuthPage/index\";\r\nimport HomePage from \"./components/HomePage/index\";\r\nimport OnBoarding from \"./components/OnBoarding\";\r\nfunction App() {\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route path=\"/auth\" component={AuthPage} />\r\n                <Route path=\"/setup\" component={OnBoarding} />\r\n                <PrivateRoute path=\"/\" component={HomePage} />\r\n            </Switch>\r\n        </Router>\r\n    );\r\n}\r\nfunction authGuard() {\r\n    if (!sessionStorage[\"whoami\"]) return false;\r\n    if (!window.user) {\r\n        sessionStorage.clear();\r\n        return false;\r\n    }\r\n    return true;\r\n}\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n    return (\r\n        <Route\r\n            {...rest}\r\n            render={(props) =>\r\n                authGuard() === true ? (\r\n                    <Component {...props} />\r\n                ) : (\r\n                    <Redirect\r\n                        to={{\r\n                            pathname: \"/auth\",\r\n                            state: { from: props.location },\r\n                        }}\r\n                    />\r\n                )\r\n            }\r\n        />\r\n    );\r\n}\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById(\"root\")\n);\n"],"sourceRoot":""}